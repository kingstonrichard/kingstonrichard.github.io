---
layout: post
title: "We built our own Income Management solution"
date: 2019-01-02
categories: work
intro: This is the story of why we chose to develop our own crtical software solution, over renewing an incumbent contract.
---
Before we get started here, it's important to understand that managing 'income' presents a significant challenge for local authorities up and down the country, if only in terms of the logistics of coordination. Monies arrive from many different sources (citizens, businesses, partners, etc.), for many different reasons (taxes, fines, services delivered, etc.), via many different methods (cash, cheque, card, elecontric, etc.) and through many different channels (direct debit, standing order, bank transfer, automated telephone service, etc.). All of them must be captured, validated and routed correctly to internal accounts in order to balance books and keep the business running. Preferably, as much of this should be done in as automated a way as possible to reduce the need for human resource to be involved and to minimise the chance of error. As money flows both into and out of council accounts through thousands of transactions a day, even the smallest errors carry potential for big issues to follow - so the whole thing has to perform as a well oiled machine.

For the last 10 years, in Barnsley Council, we had managed all of this very well using a suite of software products provided by one of the well-known major suppliers to local government. My technical team had worked with our internal departments to define their various rules of validation, configure their necessary steps of automation and enable the many channels that they each needed. It wasn't an easy ask keeping on top of it all though. Whilst I appreciate that we had worked with this solution for a number of years, and may not have used it to the best of its ability, our experience was that the individual products in the suite didn’t necessarily play well together. For example, our departmental staff still had lots of manual input to do despite the automation, it was often necessary double key transactions over several screens, the interfaces were circa 1995 and staff had to know their way around to avoid making mistakes. Indeed my technical team used to receive a lot of service desk calls to "undo" such mistakes. But, ultimately, the machine worked - it just needed a little more oiling that we might have liked!

Whilst we'd had the same software for 10 years, that was in fact a combination of several seperate tenders and awarded contracts. The most recent iteration with the supplier had a 3 year term that was due to expire March 31st 2018 and carried a 6 month notice period (October 2017) for the negotiation of any changes, renewals, cancellations, etc. So in the summer of 2017, we instigated the necessary internal and external conversations around the options we felt were available to us. Unfortunately, over the months that followed we were unable to reach an agreement of terms with the supplier and the negotiations broke down. Suspecting that might be the case and accepting that running a fresh tender exercise, bringing in a new supplier and swapping out the entire suite of software would be impossible in the remaining 6 months of the contract, we were in the position that we had to either a) renew the contract on the suppliers terms or b) replace the entire suite of products with technologies we already had in-house! And so we quickly set to work to see if the second of those options would be viable.

Now, I've blogged before about how in Barnsley we're very lucky to have an outstanding software development team on our payroll! By the end of September 2017 they had unbelievably created a proof of concept so good, that it demonstrated a clear capability of meeting all of the needs of our income management function! Best of all, subject to suitable resourcing and a financial input it could be operational by the end of February 2018 - a whole month before the incumbent software expired and had to be removed! The solution was to be an in-house developed web-based system, created using the Microsoft DotNet Core framework, Entity Framework and SQL Server - as an organisation that primarily uses SAP and Microsoft technologies, this made for a great infrastructure fit and ensured it could be supported and maintained going forwards.

And so, the council committed £50K (from it's 2017/18 budget) to a 'replacement' project in return for what was expected to be a minimum £50K saving year on year from that point forward. And this was after taking into account any additional transactional charges that might result from this change. It cleared a path through some other planned projects and created an agile project team made up of key stakeholders from the IT development team, IT project management team, Internal Audit and Finance department. Following a Scrum methodology and using Microsoft DevOps (Visual Studio Team Services at the time), they ran fortnightly sprints as follows:

1. Develop outline software infrastructure and get a single self-service web form accepting online payments in test
2. Reconfigure remaining self-service and mediated web forms to take payments using the new software in test
3. Enable transaction tracking, reconciliation and refund capabilities in test
4. Prepare for inital launch (refunds, reports, admin portal install scripts, security context) in test
5. Live launch for a specific group of self-service web forms (waste management, e.g. order a bin, book a bulky collection)
6. Create functionality to transfer monies between internal accounts
7. Launch remaining self-service eForms to live. Begin configuration of mediated shopping basket functionality
8. Complete and launch mediated basket
9. Training and rollout of solution plus increase code coverage regarding automated testing.
10. Improve transfer functionality per feedback from stakeholder group.
11. Develop new credit note requirements that have emerged from stakeholder group.
12. Develop functionality to allow cash income to be submitted to the centre.
13. Creation of routines for migration of historic data, final updates and tweaks requested by the stakeholder group.
14. Launch of cash submissions, close down of previous software suite and migration of historic data
15. Tidy up of loose ends

Now, all of that took us right up to the wire but by the end of March 2018 we had succesfully moved from the previous suite of software products, over to our new single in-house solution. Sure, there were teething issues and since the end of the project we've added in some new features and resolved a few bugs. But we now see significantly fewer service desk jobs as a support team! Our staff are using a modern, responsive, well performing product that doesn't require double keying over several outdated interfaces anymore. We're absolutely thrilled with it and in the fullness of time would love to open it up for other local authorities to use.

That said, we're conscious of the GovPay offer from the Government Digital Service (which sadly wasn't available to local authorities when all of this started for us - they were piloting with only a few select councils) and we haven't yet decided how best to actually make it available. Should we open source it on GitHub or multi-tenant it and run it as a SaaS offer in the cloud?
